{
  "query": "SELECT \n  ta.accountNumber,\n  ta.broker,\n  ta.openPositions as positions_reported,\n  COUNT(t.id) as trades_in_db,\n  SUM(CASE WHEN t.status = 'open' THEN 1 ELSE 0 END) as open_trades,\n  SUM(CASE WHEN t.status = 'closed' THEN 1 ELSE 0 END) as closed_trades\nFROM trading_accounts ta\nLEFT JOIN trades t ON ta.id = t.accountId\nJOIN users u ON ta.userId = u.id\nWHERE u.email = 'adm1@sentra.com'\nGROUP BY ta.id, ta.accountNumber, ta.broker, ta.openPositions;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 33ExLKejDoGAsBq.root --database U7PERJfz8y27QdzUYcBk8J --execute SELECT \n  ta.accountNumber,\n  ta.broker,\n  ta.openPositions as positions_reported,\n  COUNT(t.id) as trades_in_db,\n  SUM(CASE WHEN t.status = 'open' THEN 1 ELSE 0 END) as open_trades,\n  SUM(CASE WHEN t.status = 'closed' THEN 1 ELSE 0 END) as closed_trades\nFROM trading_accounts ta\nLEFT JOIN trades t ON ta.id = t.accountId\nJOIN users u ON ta.userId = u.id\nWHERE u.email = 'adm1@sentra.com'\nGROUP BY ta.id, ta.accountNumber, ta.broker, ta.openPositions;",
  "rows": [
    {
      "accountNumber": "16303274",
      "broker": "Test",
      "positions_reported": "1",
      "trades_in_db": "1",
      "open_trades": "1",
      "closed_trades": "0"
    },
    {
      "accountNumber": "163032743",
      "broker": "Exness Technologies Ltd",
      "positions_reported": "6",
      "trades_in_db": "0",
      "open_trades": "0",
      "closed_trades": "0"
    }
  ],
  "messages": [],
  "stdout": "accountNumber\tbroker\tpositions_reported\ttrades_in_db\topen_trades\tclosed_trades\n16303274\tTest\t1\t1\t1\t0\n163032743\tExness Technologies Ltd\t6\t0\t0\t0\n",
  "stderr": "",
  "execution_time_ms": 54
}